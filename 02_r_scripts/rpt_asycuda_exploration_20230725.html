<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Derrick Theophille">
<meta name="dcterms.date" content="2023-07-31">

<title>ASYCUDA Data: Fresh Produce Imports 2022-2023</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="rpt_asycuda_exploration_20230725_files/libs/clipboard/clipboard.min.js"></script>
<script src="rpt_asycuda_exploration_20230725_files/libs/quarto-html/quarto.js"></script>
<script src="rpt_asycuda_exploration_20230725_files/libs/quarto-html/popper.min.js"></script>
<script src="rpt_asycuda_exploration_20230725_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="rpt_asycuda_exploration_20230725_files/libs/quarto-html/anchor.min.js"></script>
<link href="rpt_asycuda_exploration_20230725_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="rpt_asycuda_exploration_20230725_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="rpt_asycuda_exploration_20230725_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="rpt_asycuda_exploration_20230725_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="rpt_asycuda_exploration_20230725_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="header-section-number">1</span> Introduction</a></li>
  <li><a href="#methodology" id="toc-methodology" class="nav-link" data-scroll-target="#methodology"><span class="header-section-number">2</span> Methodology</a>
  <ul class="collapse">
  <li><a href="#working-environment" id="toc-working-environment" class="nav-link" data-scroll-target="#working-environment"><span class="header-section-number">2.1</span> Working environment</a></li>
  <li><a href="#data-used" id="toc-data-used" class="nav-link" data-scroll-target="#data-used"><span class="header-section-number">2.2</span> Data used</a></li>
  </ul></li>
  <li><a href="#results" id="toc-results" class="nav-link" data-scroll-target="#results"><span class="header-section-number">3</span> Results</a>
  <ul class="collapse">
  <li><a href="#imports-of-fresh-produce-by-origin" id="toc-imports-of-fresh-produce-by-origin" class="nav-link" data-scroll-target="#imports-of-fresh-produce-by-origin"><span class="header-section-number">3.1</span> Imports of fresh produce by origin</a>
  <ul class="collapse">
  <li><a href="#the-usa" id="toc-the-usa" class="nav-link" data-scroll-target="#the-usa"><span class="header-section-number">3.1.1</span> The USA</a></li>
  </ul></li>
  <li><a href="#imports-of-fresh-produce-by-commodity-classifications" id="toc-imports-of-fresh-produce-by-commodity-classifications" class="nav-link" data-scroll-target="#imports-of-fresh-produce-by-commodity-classifications"><span class="header-section-number">3.2</span> Imports of fresh produce by commodity classifications</a>
  <ul class="collapse">
  <li><a href="#poultry" id="toc-poultry" class="nav-link" data-scroll-target="#poultry"><span class="header-section-number">3.2.1</span> Poultry</a></li>
  <li><a href="#fish" id="toc-fish" class="nav-link" data-scroll-target="#fish"><span class="header-section-number">3.2.2</span> Fish</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">ASYCUDA Data: Fresh Produce Imports 2022-2023</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Derrick Theophille </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 31, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="introduction" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Introduction</h1>
</section>
<section id="methodology" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Methodology</h1>
<section id="working-environment" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="working-environment"><span class="header-section-number">2.1</span> Working environment</h2>
<p>Data work was performed in the R environment, using the RStudio IDE. Libraries or packages used are shown below:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co"># For plots, reshaping data and summaries. Takes the place of ggplot2, dplyr,  tidyr, stringr, lubridate, readr, and others</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl) <span class="co"># For MS Excel files</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here) <span class="co"># Used for finding files within your project. See more information at https://github.com/jennybc/here_here/blob/master/README.md and https://www.tidyverse.org/articles/2017/12/workflow-vs-script</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor) <span class="co"># For some data exploration, cleaning and other useful functionality</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales) <span class="co"># For number formats</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr) <span class="co"># For neat tables</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Given that the data contains very large numbers (in the millions), we will force R to not use scientific notation using the code below:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="do">## numbers &gt;= 10^5 will be denoted in scientific notation,</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="do">## and rounded to 2 digits</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">5</span>, <span class="at">digits =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="data-used" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="data-used"><span class="header-section-number">2.2</span> Data used</h2>
<p>The data used for this exercise was obtained from ASYCUDA databases. It shows commodities imported to Dominica over the period July 2022 to June 2023. The data can be found on my Dropbox here: <a href="https://www.dropbox.com/scl/fi/co4z5zy7yfeh893g0ninp/import-fresh.xls?rlkey=pmqaqmfrwrep1fzbx597wsd3n&amp;dl=0" class="uri">https://www.dropbox.com/scl/fi/co4z5zy7yfeh893g0ninp/import-fresh.xls?rlkey=pmqaqmfrwrep1fzbx597wsd3n&amp;dl=0</a>.</p>
<p>Here we load the data, clean the variable names, create a new variable made up of the first four characters of the “hs_code” variable, and lastly set certain variables as factors and reorder the variables:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load asycuda data ----</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>asycuda <span class="ot">&lt;-</span> <span class="fu">read_xls</span>(<span class="fu">here</span>(<span class="st">"00_raw_data"</span>, <span class="st">"ASYCUDA"</span>, <span class="st">"import fresh.xls"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Rename "tariff_code" to "hs_code" etc.</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">hs_code =</span> tariff_code,</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">origin =</span> orgin) <span class="sc">%&gt;%</span> </span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create higher level code for commodities (first 4 digits)</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">hs_code_categories =</span> <span class="fu">str_sub</span>(hs_code, <span class="dv">1</span>, <span class="dv">4</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Make columns as factor</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(hs_code_categories, hs_code, description, origin), as.factor)) <span class="sc">%&gt;%</span> </span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(hs_code_categories, <span class="fu">everything</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The variables are described this way:</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 20%">
<col style="width: 79%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Variable name</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">hs_code_categories</td>
<td style="text-align: left;">Categories code for HS Codes</td>
</tr>
<tr class="even">
<td style="text-align: left;">hs_code</td>
<td style="text-align: left;">Harmonised System (HS) Codes for commodities</td>
</tr>
<tr class="odd">
<td style="text-align: left;">description</td>
<td style="text-align: left;">Description of the comodity</td>
</tr>
<tr class="even">
<td style="text-align: left;">origin</td>
<td style="text-align: left;">Country of origin of the commodity imported</td>
</tr>
<tr class="odd">
<td style="text-align: left;">weight_kg</td>
<td style="text-align: left;">Weight imported in kilograms (kg)</td>
</tr>
<tr class="even">
<td style="text-align: left;">cif_value_ecd</td>
<td style="text-align: left;">Cost Insurance and Freight (CIF) value in Eastern Caribbean Dollars (XCD)</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>A preview of the data is shown below:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(asycuda))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 17%">
<col style="width: 10%">
<col style="width: 26%">
<col style="width: 23%">
<col style="width: 9%">
<col style="width: 13%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">hs_code_categories</th>
<th style="text-align: left;">hs_code</th>
<th style="text-align: left;">description</th>
<th style="text-align: left;">origin</th>
<th style="text-align: right;">weight_kg</th>
<th style="text-align: right;">cif_value_ecd</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">0201</td>
<td style="text-align: left;">0201100000</td>
<td style="text-align: left;">Carcasses and halfcarcasses</td>
<td style="text-align: left;">Guadeloupe</td>
<td style="text-align: right;">6.2</td>
<td style="text-align: right;">165</td>
</tr>
<tr class="even">
<td style="text-align: left;">0201</td>
<td style="text-align: left;">0201309000</td>
<td style="text-align: left;">Other</td>
<td style="text-align: left;">United States of America</td>
<td style="text-align: right;">4360.0</td>
<td style="text-align: right;">50514</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0202</td>
<td style="text-align: left;">0202201000</td>
<td style="text-align: left;">Brisket</td>
<td style="text-align: left;">United States of America</td>
<td style="text-align: right;">2059.1</td>
<td style="text-align: right;">20763</td>
</tr>
<tr class="even">
<td style="text-align: left;">0202</td>
<td style="text-align: left;">0202209000</td>
<td style="text-align: left;">Other</td>
<td style="text-align: left;">Guadeloupe</td>
<td style="text-align: right;">9.0</td>
<td style="text-align: right;">30</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0202</td>
<td style="text-align: left;">0202209000</td>
<td style="text-align: left;">Other</td>
<td style="text-align: left;">Sint Maarten (Dutch)</td>
<td style="text-align: right;">215.0</td>
<td style="text-align: right;">1240</td>
</tr>
<tr class="even">
<td style="text-align: left;">0202</td>
<td style="text-align: left;">0202209000</td>
<td style="text-align: left;">Other</td>
<td style="text-align: left;">United States of America</td>
<td style="text-align: right;">3274.5</td>
<td style="text-align: right;">35768</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>In exploring the “asycuda” data, it was observed that the description had over 100 unique values and many with similar names. Additionally, the variable has category and sub-category values within. This causes some of the issue with ambiguity. It was decided to import an HS Code dictionary to address the issue and get higher level categories for use instead of the commodity description.</p>
<p>After a quick search on the internet an MS Excel spreadsheet was found and downloaded. However, the structure was not very useful as multiple lines of data were included within a single row. Cleaning the entire spreadsheet was time consuming, so only the rows containing the codes necessary were cleaned and saved as a CSV file (find this here: <a href="https://www.dropbox.com/scl/fi/mjwl34493bla9t4rhgsjj/hs_codes_list.csv?rlkey=826udzwb2nbsk15cpw27sns1t&amp;dl=0" class="uri">https://www.dropbox.com/scl/fi/mjwl34493bla9t4rhgsjj/hs_codes_list.csv?rlkey=826udzwb2nbsk15cpw27sns1t&amp;dl=0</a>), using a semi-colon delimiter between variables. The data is loaded here:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load HS codes ----</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>hs_codes <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(<span class="fu">here</span>(<span class="st">"00_raw_data"</span>, <span class="st">"ASYCUDA"</span>, <span class="st">"hs_codes_list.csv"</span>), </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">delim =</span> <span class="st">";"</span>, <span class="at">escape_double =</span> <span class="cn">FALSE</span>, <span class="at">trim_ws =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Here is a preview of the “hs_codes” data set:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># slice_sample() gives us a random number of rows from the data set. The number of rows randomly shown is controlled by the "n" value.</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">slice_sample</span>(hs_codes, <span class="at">n =</span> <span class="dv">5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 13%">
<col style="width: 86%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">hs_category_code</th>
<th style="text-align: left;">description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">0502</td>
<td style="text-align: left;">Pigs, hogs or boars bristles and hair and waste thereof</td>
</tr>
<tr class="even">
<td style="text-align: left;">0603</td>
<td style="text-align: left;">Flowers cut flowers and flower buds of a kind suitable for bouquets or for ornamental purposes, fresh, drie</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0711</td>
<td style="text-align: left;">Vegetables provisionally preserved (eg by sulphur dioxide gas, in brine, in sulphur water or in other preserv</td>
</tr>
<tr class="even">
<td style="text-align: left;">0805</td>
<td style="text-align: left;">Citrus fruit fresh or dried</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0208</td>
<td style="text-align: left;">Meat and edible meat offal, n.e.s. in chapter 2 fresh, chilled or frozen</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Th “asycuda” data is revised here:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Revised asycuda ----</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>asycuda_rev <span class="ot">&lt;-</span> asycuda <span class="sc">%&gt;%</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add in HS code categories</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(hs_codes <span class="sc">%&gt;%</span> </span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>              <span class="co"># Rename "description" variable in "hs_codes" to "category" </span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>              <span class="fu">rename</span>(<span class="at">category =</span> description), </span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Join the two data sets using common variables </span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"hs_code_categories"</span> <span class="ot">=</span> <span class="st">"hs_category_code"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Reclassify commodities </span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">classification =</span> <span class="fu">case_when</span>(</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>    hs_code_categories <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"0201"</span>, <span class="st">"0202"</span>) <span class="sc">~</span> <span class="st">"Cattle"</span>,</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>    hs_code_categories <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"0203"</span>) <span class="sc">~</span> <span class="st">"Pigs"</span>,</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>    hs_code_categories <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"0204"</span>) <span class="sc">~</span> <span class="st">"Sheep or goats"</span>,</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    hs_code_categories <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"0207"</span>) <span class="sc">~</span> <span class="st">"Poultry"</span>,</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>    hs_code_categories <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"0210"</span>, <span class="st">"0208"</span>, <span class="st">"0206"</span>, <span class="st">"0209"</span>) <span class="sc">~</span> <span class="st">"Other meat"</span>,</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>    hs_code_categories <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"0701"</span>) <span class="sc">~</span> <span class="st">"White potatoes"</span>,</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>    hs_code_categories <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"0703"</span>) <span class="sc">~</span> description,</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">grepl</span>(<span class="st">"^03"</span>, hs_code_categories) <span class="sc">~</span> <span class="st">"Fish"</span>,</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">grepl</span>(<span class="st">"beans|peas"</span>, description, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">grepl</span>(<span class="st">"blend"</span>, description) <span class="sc">~</span> <span class="st">"Peas and beans"</span>,</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">grepl</span>(<span class="st">"^07"</span>, hs_code_categories)  <span class="sc">~</span> <span class="st">"Vegetables"</span>,</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>    hs_code_categories <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"0801"</span>, <span class="st">"0802"</span>) <span class="sc">~</span> <span class="st">"Nuts"</span>,</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>    hs_code_categories <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"0804"</span>, <span class="st">"0806"</span>, <span class="st">"0807"</span>, <span class="st">"0808"</span>, </span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"0809"</span>, <span class="st">"0810"</span>, <span class="st">"0811"</span>, <span class="st">"0812"</span>, <span class="st">"0813"</span>, <span class="st">"0814"</span>) <span class="sc">~</span> <span class="st">"Fruits"</span>,</span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>    hs_code_categories <span class="sc">==</span> <span class="st">"0901"</span> <span class="sc">~</span> <span class="st">"Coffee"</span>,</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>    hs_code_categories <span class="sc">==</span> <span class="st">"0902"</span> <span class="sc">~</span> <span class="st">"Tea"</span>,</span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>    hs_code_categories <span class="sc">==</span> <span class="st">"0904"</span> <span class="sc">~</span> <span class="st">"Peppers (processed)"</span>,</span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>    hs_code_categories <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"0905"</span>, <span class="st">"0906"</span>, <span class="st">"0907"</span>, <span class="st">"0908"</span>, </span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"0909"</span>, <span class="st">"0910"</span>) <span class="sc">~</span> <span class="st">"Spices"</span></span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span> </span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Reorder variables</span></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(hs_code_categories, hs_code, classification, category, <span class="fu">everything</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>A preview of the “asycuda_rev” is shown below:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">slice_sample</span>(asycuda_rev, <span class="at">n =</span> <span class="dv">5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 6%">
<col style="width: 3%">
<col style="width: 5%">
<col style="width: 39%">
<col style="width: 27%">
<col style="width: 8%">
<col style="width: 3%">
<col style="width: 4%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">hs_code_categories</th>
<th style="text-align: left;">hs_code</th>
<th style="text-align: left;">classification</th>
<th style="text-align: left;">category</th>
<th style="text-align: left;">description</th>
<th style="text-align: left;">origin</th>
<th style="text-align: right;">weight_kg</th>
<th style="text-align: right;">cif_value_ecd</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">0905</td>
<td style="text-align: left;">0905100000</td>
<td style="text-align: left;">Spices</td>
<td style="text-align: left;">Vanilla</td>
<td style="text-align: left;">Neither crushed nor ground</td>
<td style="text-align: left;">United States of America</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">103</td>
</tr>
<tr class="even">
<td style="text-align: left;">0306</td>
<td style="text-align: left;">0306110000</td>
<td style="text-align: left;">Fish</td>
<td style="text-align: left;">Crustaceans, in shell or not, live, fresh, chilled, frozen, dried, salted or in brine crustaceans, in shell, cooked</td>
<td style="text-align: left;">Rock lobster and other sea crawfish (Palinurus spp., Panulirus spp., Jasus spp.)</td>
<td style="text-align: left;">Guadeloupe</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">609</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0207</td>
<td style="text-align: left;">0207271000</td>
<td style="text-align: left;">Poultry</td>
<td style="text-align: left;">Meat and edible offal of poultry of the poultry of heading no. 0105, (ie fowls of the species gallus domestic</td>
<td style="text-align: left;">Backs, necks and wings</td>
<td style="text-align: left;">United States of America</td>
<td style="text-align: right;">18797</td>
<td style="text-align: right;">125999</td>
</tr>
<tr class="even">
<td style="text-align: left;">0303</td>
<td style="text-align: left;">0303892000</td>
<td style="text-align: left;">Fish</td>
<td style="text-align: left;">Fish frozen (excluding fish fillets and other fish meat of heading no. 0304)</td>
<td style="text-align: left;">Snapper, croaker, grouper, dolphinfish (mahimahi) and bangamary</td>
<td style="text-align: left;">United States of America</td>
<td style="text-align: right;">1317</td>
<td style="text-align: right;">82</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0210</td>
<td style="text-align: left;">0210203000</td>
<td style="text-align: left;">Other meat</td>
<td style="text-align: left;">Meat and edible meat offal salted, in brine, dried or smoked edible flours and meals of meat or meat offal</td>
<td style="text-align: left;">Smoked</td>
<td style="text-align: left;">Guadeloupe</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">360</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</section>
<section id="results" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Results</h1>
<p>Now that we have fixed our data a bit to make it useful for analysis and reporting, we will proceed with some of that. We will use the weight in kg (“weight_kg”) and CIF value (“item_cif”) in this report to show the quantities and values imported for the period.</p>
<section id="imports-of-fresh-produce-by-origin" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="imports-of-fresh-produce-by-origin"><span class="header-section-number">3.1</span> Imports of fresh produce by origin</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Prep data ----</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>d01 <span class="ot">&lt;-</span> asycuda_rev <span class="sc">%&gt;%</span> </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(origin) <span class="sc">%&gt;%</span> </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">sum_cif =</span> <span class="fu">sum</span>(cif_value_ecd, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">sum_weight =</span> <span class="fu">sum</span>(weight_kg, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cif_percent =</span> sum_cif<span class="sc">/</span><span class="fu">sum</span>(sum_cif),</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">weight_percent =</span> sum_weight<span class="sc">/</span><span class="fu">sum</span>(sum_weight)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(origin, sum_cif, cif_percent, sum_weight, weight_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>A total of 26 origin locations were identified around the world. The table below shows the CIF value (XCD) and share (%) of fresh produce commodities by origin.</p>
<div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(d01 <span class="sc">%&gt;%</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">cif_percent =</span> cif_percent<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">weight_percent =</span> weight_percent<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">adorn_totals</span>(<span class="at">where =</span> <span class="st">"row"</span>),</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Origin"</span>, <span class="st">"CIF value (XCD)"</span>, <span class="st">"CIF value share (%)"</span>, <span class="st">"Weight (kg)"</span>, <span class="st">"Weight share (%)"</span>),</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">format.args =</span> <span class="fu">list</span>(<span class="at">big.mark =</span> <span class="st">','</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="tbl-origin-cif-wt" class="cell tbl-parent quarto-layout-panel anchored">
<div class="panel-caption table-caption">
<p><strong>?(caption)</strong></p>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 30%">
<col style="width: 17%">
<col style="width: 21%">
<col style="width: 12%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Origin</th>
<th style="text-align: right;">CIF value (XCD)</th>
<th style="text-align: right;">CIF value share (%)</th>
<th style="text-align: right;">Weight (kg)</th>
<th style="text-align: right;">Weight share (%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Antigua and Barbuda</td>
<td style="text-align: right;">11,995</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">80.0</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="even">
<td style="text-align: left;">Barbados</td>
<td style="text-align: right;">1,500</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">32.5</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Belgium</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">5.7</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">1,072,081</td>
<td style="text-align: right;">3.79</td>
<td style="text-align: right;">208,755.4</td>
<td style="text-align: right;">4.70</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Canada</td>
<td style="text-align: right;">2,277,074</td>
<td style="text-align: right;">8.05</td>
<td style="text-align: right;">296,421.2</td>
<td style="text-align: right;">6.67</td>
</tr>
<tr class="even">
<td style="text-align: left;">China</td>
<td style="text-align: right;">2,085</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">971.4</td>
<td style="text-align: right;">0.02</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Denmark</td>
<td style="text-align: right;">34,776</td>
<td style="text-align: right;">0.12</td>
<td style="text-align: right;">1,995.0</td>
<td style="text-align: right;">0.04</td>
</tr>
<tr class="even">
<td style="text-align: left;">France</td>
<td style="text-align: right;">155,616</td>
<td style="text-align: right;">0.55</td>
<td style="text-align: right;">7,344.8</td>
<td style="text-align: right;">0.17</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Gabon</td>
<td style="text-align: right;">186</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="even">
<td style="text-align: left;">Greece</td>
<td style="text-align: right;">31</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">5.7</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Grenada</td>
<td style="text-align: right;">72,016</td>
<td style="text-align: right;">0.25</td>
<td style="text-align: right;">1,711.3</td>
<td style="text-align: right;">0.04</td>
</tr>
<tr class="even">
<td style="text-align: left;">Guadeloupe</td>
<td style="text-align: right;">1,013,751</td>
<td style="text-align: right;">3.59</td>
<td style="text-align: right;">93,437.7</td>
<td style="text-align: right;">2.10</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Guyana</td>
<td style="text-align: right;">53,112</td>
<td style="text-align: right;">0.19</td>
<td style="text-align: right;">4,002.7</td>
<td style="text-align: right;">0.09</td>
</tr>
<tr class="even">
<td style="text-align: left;">India</td>
<td style="text-align: right;">787</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">5.3</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Jamaica</td>
<td style="text-align: right;">11,998</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">1,148.2</td>
<td style="text-align: right;">0.03</td>
</tr>
<tr class="even">
<td style="text-align: left;">Netherlands</td>
<td style="text-align: right;">1,941,202</td>
<td style="text-align: right;">6.87</td>
<td style="text-align: right;">480,109.0</td>
<td style="text-align: right;">10.81</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Norway</td>
<td style="text-align: right;">416,569</td>
<td style="text-align: right;">1.47</td>
<td style="text-align: right;">26,544.0</td>
<td style="text-align: right;">0.60</td>
</tr>
<tr class="even">
<td style="text-align: left;">Panama</td>
<td style="text-align: right;">609</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">21.4</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Puerto Rico</td>
<td style="text-align: right;">35,021</td>
<td style="text-align: right;">0.12</td>
<td style="text-align: right;">3,871.1</td>
<td style="text-align: right;">0.09</td>
</tr>
<tr class="even">
<td style="text-align: left;">Saint Lucia</td>
<td style="text-align: right;">39,194</td>
<td style="text-align: right;">0.14</td>
<td style="text-align: right;">1,138.0</td>
<td style="text-align: right;">0.03</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Sint Maarten (Dutch)</td>
<td style="text-align: right;">220,071</td>
<td style="text-align: right;">0.78</td>
<td style="text-align: right;">3,271.4</td>
<td style="text-align: right;">0.07</td>
</tr>
<tr class="even">
<td style="text-align: left;">Switzerland</td>
<td style="text-align: right;">296</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">9.1</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Trinidad and Tobago</td>
<td style="text-align: right;">517,916</td>
<td style="text-align: right;">1.83</td>
<td style="text-align: right;">66,411.4</td>
<td style="text-align: right;">1.50</td>
</tr>
<tr class="even">
<td style="text-align: left;">United Kingdom</td>
<td style="text-align: right;">2,180,760</td>
<td style="text-align: right;">7.71</td>
<td style="text-align: right;">276,539.1</td>
<td style="text-align: right;">6.23</td>
</tr>
<tr class="odd">
<td style="text-align: left;">United States of America</td>
<td style="text-align: right;">18,206,445</td>
<td style="text-align: right;">64.40</td>
<td style="text-align: right;">2,968,056.5</td>
<td style="text-align: right;">66.82</td>
</tr>
<tr class="even">
<td style="text-align: left;">United States Virgin Islands</td>
<td style="text-align: right;">4,955</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">175.1</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Total</td>
<td style="text-align: right;">28,270,065</td>
<td style="text-align: right;">100.00</td>
<td style="text-align: right;">4,442,063.9</td>
<td style="text-align: right;">100.00</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<p>Perhaps this is better illustrated in the plot below:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(d01 <span class="sc">%&gt;%</span> </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>         <span class="co"># Reorder the rows by CIF value, from largest to smallest </span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>         <span class="fu">arrange</span>(sum_cif), </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(origin, <span class="sc">+</span>sum_cif), <span class="co"># Reorder x-axis labels by CIF value</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> sum_cif)) <span class="sc">+</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Plot bars</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Include text labels outside of bars and round to millions and add "M" at the end</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">paste</span>(<span class="fu">round</span>(sum_cif<span class="sc">/</span> <span class="fl">1e6</span>, <span class="dv">4</span>), <span class="st">"M"</span>)),</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">hjust =</span> <span class="sc">-</span><span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Flip the plot 90 degrees for easier reading</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Format plot y-axis scale</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">label_number</span>(<span class="at">suffix =</span> <span class="st">"M"</span>, <span class="at">scale =</span> <span class="fl">1e-6</span>),</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>                     <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">20000000</span>),</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">20000000</span>, <span class="dv">2000000</span>)) <span class="sc">+</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Set theme (I like the black and white)</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add labels and titles</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Origin"</span>,</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"CIF Value (XCD)"</span>,</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Imports of fresh produce commodities by origin (2022-2023)"</span>,</span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Source: ASYCUDA"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="rpt_asycuda_exploration_20230725_files/figure-html/p-origin-cif-1.png" class="img-fluid" width="768"></p>
</div>
</div>
<section id="the-usa" class="level3" data-number="3.1.1">
<h3 data-number="3.1.1" class="anchored" data-anchor-id="the-usa"><span class="header-section-number">3.1.1</span> The USA</h3>
<p>By a wide margin, the United States of America (USA) is the chief origin of fresh produce imports. The commodities imported from the US are shown below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>d01 <span class="ot">&lt;-</span> asycuda_rev <span class="sc">%&gt;%</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(origin <span class="sc">==</span> <span class="st">"United States of America"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(classification) <span class="sc">%&gt;%</span> </span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">sum_cif =</span> <span class="fu">sum</span>(cif_value_ecd, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">sum_weight =</span> <span class="fu">sum</span>(weight_kg, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cif_percent =</span> sum_cif<span class="sc">/</span><span class="fu">sum</span>(sum_cif),</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">weight_percent =</span> sum_weight<span class="sc">/</span><span class="fu">sum</span>(sum_weight)) <span class="sc">%&gt;%</span> </span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(classification, sum_cif, cif_percent, sum_weight, weight_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We see that 75.81% of the total value of commodities imported form the USA was Poultry, with a value of $13.8 million XCD.</p>
<div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(d01 <span class="sc">%&gt;%</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">cif_percent =</span> cif_percent<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">weight_percent =</span> weight_percent<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">adorn_totals</span>(<span class="at">where =</span> <span class="st">"row"</span>),</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Commodity classification"</span>, <span class="st">"CIF value (XCD)"</span>, <span class="st">"CIF value share (%)"</span>, <span class="st">"Weight (kg)"</span>, <span class="st">"Weight share (%)"</span>),</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">format.args =</span> <span class="fu">list</span>(<span class="at">big.mark =</span> <span class="st">','</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="tbl-usa-cif-val" class="cell tbl-parent quarto-layout-panel anchored">
<div class="panel-caption table-caption">
<p><strong>?(caption)</strong></p>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 36%">
<col style="width: 15%">
<col style="width: 19%">
<col style="width: 11%">
<col style="width: 16%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Commodity classification</th>
<th style="text-align: right;">CIF value (XCD)</th>
<th style="text-align: right;">CIF value share (%)</th>
<th style="text-align: right;">Weight (kg)</th>
<th style="text-align: right;">Weight share (%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Cattle</td>
<td style="text-align: right;">442,456</td>
<td style="text-align: right;">2.43</td>
<td style="text-align: right;">42,486</td>
<td style="text-align: right;">1.43</td>
</tr>
<tr class="even">
<td style="text-align: left;">Coffee</td>
<td style="text-align: right;">39,267</td>
<td style="text-align: right;">0.22</td>
<td style="text-align: right;">1,791</td>
<td style="text-align: right;">0.06</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fish</td>
<td style="text-align: right;">655,983</td>
<td style="text-align: right;">3.60</td>
<td style="text-align: right;">83,722</td>
<td style="text-align: right;">2.82</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fruits</td>
<td style="text-align: right;">717,189</td>
<td style="text-align: right;">3.94</td>
<td style="text-align: right;">62,355</td>
<td style="text-align: right;">2.10</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Garlic</td>
<td style="text-align: right;">28,588</td>
<td style="text-align: right;">0.16</td>
<td style="text-align: right;">2,662</td>
<td style="text-align: right;">0.09</td>
</tr>
<tr class="even">
<td style="text-align: left;">Leeks and other alliaceous vegetables</td>
<td style="text-align: right;">1,969</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">153</td>
<td style="text-align: right;">0.01</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Nuts</td>
<td style="text-align: right;">18,793</td>
<td style="text-align: right;">0.10</td>
<td style="text-align: right;">1,163</td>
<td style="text-align: right;">0.04</td>
</tr>
<tr class="even">
<td style="text-align: left;">Onions</td>
<td style="text-align: right;">81,158</td>
<td style="text-align: right;">0.45</td>
<td style="text-align: right;">7,838</td>
<td style="text-align: right;">0.26</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other meat</td>
<td style="text-align: right;">653,460</td>
<td style="text-align: right;">3.59</td>
<td style="text-align: right;">108,701</td>
<td style="text-align: right;">3.66</td>
</tr>
<tr class="even">
<td style="text-align: left;">Peas and beans</td>
<td style="text-align: right;">41,496</td>
<td style="text-align: right;">0.23</td>
<td style="text-align: right;">4,374</td>
<td style="text-align: right;">0.15</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Peppers (processed)</td>
<td style="text-align: right;">45,128</td>
<td style="text-align: right;">0.25</td>
<td style="text-align: right;">3,809</td>
<td style="text-align: right;">0.13</td>
</tr>
<tr class="even">
<td style="text-align: left;">Pigs</td>
<td style="text-align: right;">604,654</td>
<td style="text-align: right;">3.32</td>
<td style="text-align: right;">75,876</td>
<td style="text-align: right;">2.56</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Poultry</td>
<td style="text-align: right;">13,802,392</td>
<td style="text-align: right;">75.81</td>
<td style="text-align: right;">2,469,080</td>
<td style="text-align: right;">83.19</td>
</tr>
<tr class="even">
<td style="text-align: left;">Shallots (eschallots)</td>
<td style="text-align: right;">155</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Sheep or goats</td>
<td style="text-align: right;">59,429</td>
<td style="text-align: right;">0.33</td>
<td style="text-align: right;">6,119</td>
<td style="text-align: right;">0.21</td>
</tr>
<tr class="even">
<td style="text-align: left;">Spices</td>
<td style="text-align: right;">146,269</td>
<td style="text-align: right;">0.80</td>
<td style="text-align: right;">5,593</td>
<td style="text-align: right;">0.19</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Tea</td>
<td style="text-align: right;">69,971</td>
<td style="text-align: right;">0.38</td>
<td style="text-align: right;">5,127</td>
<td style="text-align: right;">0.17</td>
</tr>
<tr class="even">
<td style="text-align: left;">Vegetables</td>
<td style="text-align: right;">615,362</td>
<td style="text-align: right;">3.38</td>
<td style="text-align: right;">70,679</td>
<td style="text-align: right;">2.38</td>
</tr>
<tr class="odd">
<td style="text-align: left;">White potatoes</td>
<td style="text-align: right;">182,726</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">16,516</td>
<td style="text-align: right;">0.56</td>
</tr>
<tr class="even">
<td style="text-align: left;">Total</td>
<td style="text-align: right;">18,206,445</td>
<td style="text-align: right;">100.00</td>
<td style="text-align: right;">2,968,056</td>
<td style="text-align: right;">100.00</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="imports-of-fresh-produce-by-commodity-classifications" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="imports-of-fresh-produce-by-commodity-classifications"><span class="header-section-number">3.2</span> Imports of fresh produce by commodity classifications</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Prep data ----</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>d01 <span class="ot">&lt;-</span> asycuda_rev <span class="sc">%&gt;%</span> </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(classification) <span class="sc">%&gt;%</span> </span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">sum_cif =</span> <span class="fu">sum</span>(cif_value_ecd, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">sum_weight =</span> <span class="fu">sum</span>(weight_kg, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cif_percent =</span> sum_cif<span class="sc">/</span><span class="fu">sum</span>(sum_cif),</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">weight_percent =</span> sum_weight<span class="sc">/</span><span class="fu">sum</span>(sum_weight)) <span class="sc">%&gt;%</span> </span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(classification, sum_cif, cif_percent, sum_weight, weight_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Poultry was the most imported commodity based on value ($15.72 million XCD) and weight (2.8 million kg) for all countries.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(d01 <span class="sc">%&gt;%</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>         <span class="fu">arrange</span>(sum_cif), </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(<span class="fu">str_wrap</span>(classification, <span class="dv">30</span>), <span class="sc">+</span>sum_cif), <span class="at">y =</span> sum_cif)) <span class="sc">+</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">paste</span>(<span class="fu">round</span>(sum_cif<span class="sc">/</span> <span class="fl">1e6</span>, <span class="dv">4</span>), <span class="st">"M"</span>)),</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">hjust =</span> <span class="sc">-</span><span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">label_number</span>(<span class="at">suffix =</span> <span class="st">"M"</span>, <span class="at">scale =</span> <span class="fl">1e-6</span>),</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>                     <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">17000000</span>),</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">18000000</span>, <span class="dv">2000000</span>)) <span class="sc">+</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Classification"</span>,</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"CIF Value (XCD)"</span>,</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Imports of fresh produce commodities (2022-2023)"</span>,</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Source: ASYCUDA"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="rpt_asycuda_exploration_20230725_files/figure-html/p-commodity-cif-1.png" class="img-fluid" width="864"></p>
</div>
</div>
<section id="poultry" class="level3" data-number="3.2.1">
<h3 data-number="3.2.1" class="anchored" data-anchor-id="poultry"><span class="header-section-number">3.2.1</span> Poultry</h3>
<p>Looking at Poultry a bit more deeply, we can examine what sub-classifications of poultry are imported. The poultry commodity with the largest presence in the data is “Other”. This indicates that the actual commodity was not specified in our data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>d01 <span class="ot">&lt;-</span> asycuda_rev <span class="sc">%&gt;%</span> </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(classification <span class="sc">==</span> <span class="st">"Poultry"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(description) <span class="sc">%&gt;%</span> </span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">sum_cif =</span> <span class="fu">sum</span>(cif_value_ecd, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">sum_weight =</span> <span class="fu">sum</span>(weight_kg, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cif_percent =</span> sum_cif<span class="sc">/</span><span class="fu">sum</span>(sum_cif),</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">weight_percent =</span> sum_weight<span class="sc">/</span><span class="fu">sum</span>(sum_weight)) <span class="sc">%&gt;%</span> </span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(description, sum_cif, cif_percent, sum_weight, weight_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(d01 <span class="sc">%&gt;%</span> </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">cif_percent =</span> cif_percent<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">weight_percent =</span> weight_percent<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">adorn_totals</span>(<span class="at">where =</span> <span class="st">"row"</span>),</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Commodity"</span>, <span class="st">"CIF value (XCD)"</span>, <span class="st">"CIF value share (%)"</span>, <span class="st">"Weight (kg)"</span>, <span class="st">"Weight share (%)"</span>),</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">format.args =</span> <span class="fu">list</span>(<span class="at">big.mark =</span> <span class="st">','</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="tbl-poultry-cif-val" class="cell tbl-parent quarto-layout-panel anchored">
<div class="panel-caption table-caption">
<p><strong>?(caption)</strong></p>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 35%">
<col style="width: 15%">
<col style="width: 19%">
<col style="width: 11%">
<col style="width: 16%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Commodity</th>
<th style="text-align: right;">CIF value (XCD)</th>
<th style="text-align: right;">CIF value share (%)</th>
<th style="text-align: right;">Weight (kg)</th>
<th style="text-align: right;">Weight share (%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Backs and necks</td>
<td style="text-align: right;">804,145</td>
<td style="text-align: right;">5.12</td>
<td style="text-align: right;">172,214</td>
<td style="text-align: right;">6.17</td>
</tr>
<tr class="even">
<td style="text-align: left;">Backs, necks and wings</td>
<td style="text-align: right;">267,271</td>
<td style="text-align: right;">1.70</td>
<td style="text-align: right;">41,446</td>
<td style="text-align: right;">1.48</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Cuts and offal, fresh or chilled</td>
<td style="text-align: right;">1,677</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">68</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fatty livers, fresh or chilled</td>
<td style="text-align: right;">663</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Livers</td>
<td style="text-align: right;">1,665</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">279</td>
<td style="text-align: right;">0.01</td>
</tr>
<tr class="even">
<td style="text-align: left;">Not cut in pieces, fresh or chilled</td>
<td style="text-align: right;">136,198</td>
<td style="text-align: right;">0.87</td>
<td style="text-align: right;">7,689</td>
<td style="text-align: right;">0.28</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Not cut in pieces, frozen</td>
<td style="text-align: right;">81,356</td>
<td style="text-align: right;">0.52</td>
<td style="text-align: right;">30,570</td>
<td style="text-align: right;">1.09</td>
</tr>
<tr class="even">
<td style="text-align: left;">Other</td>
<td style="text-align: right;">6,520,420</td>
<td style="text-align: right;">41.48</td>
<td style="text-align: right;">1,270,691</td>
<td style="text-align: right;">45.51</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other, frozen</td>
<td style="text-align: right;">2,290</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">1,568</td>
<td style="text-align: right;">0.06</td>
</tr>
<tr class="even">
<td style="text-align: left;">Wings</td>
<td style="text-align: right;">7,905,061</td>
<td style="text-align: right;">50.28</td>
<td style="text-align: right;">1,267,368</td>
<td style="text-align: right;">45.39</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Total</td>
<td style="text-align: right;">15,720,745</td>
<td style="text-align: right;">100.00</td>
<td style="text-align: right;">2,791,907</td>
<td style="text-align: right;">100.00</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</section>
<section id="fish" class="level3" data-number="3.2.2">
<h3 data-number="3.2.2" class="anchored" data-anchor-id="fish"><span class="header-section-number">3.2.2</span> Fish</h3>
<p>Fish commodities are shown similarly below:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>d01 <span class="ot">&lt;-</span> asycuda_rev <span class="sc">%&gt;%</span> </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(classification <span class="sc">==</span> <span class="st">"Fish"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Some cleaning</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">description =</span> <span class="fu">case_when</span>(</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">grepl</span>(<span class="st">"^Cod"</span>, description, <span class="at">ignore.case =</span> <span class="cn">FALSE</span>) <span class="sc">~</span> <span class="st">"Cod, mackerel and alewives"</span>,</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">grepl</span>(<span class="st">"Pacific salmon"</span>, description, <span class="at">ignore.case =</span> <span class="cn">FALSE</span>) <span class="sc">~</span> <span class="st">"Pacific salmon"</span>,</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(description)</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span> </span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(description) <span class="sc">%&gt;%</span> </span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">sum_cif =</span> <span class="fu">sum</span>(cif_value_ecd, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">sum_weight =</span> <span class="fu">sum</span>(weight_kg, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cif_percent =</span> sum_cif<span class="sc">/</span><span class="fu">sum</span>(sum_cif),</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>         <span class="at">weight_percent =</span> sum_weight<span class="sc">/</span><span class="fu">sum</span>(sum_weight)) <span class="sc">%&gt;%</span> </span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(description, sum_cif, cif_percent, sum_weight, weight_percent)</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(d01 <span class="sc">%&gt;%</span> </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">cif_percent =</span> cif_percent<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">weight_percent =</span> weight_percent<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">adorn_totals</span>(<span class="at">where =</span> <span class="st">"row"</span>),</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Commodity"</span>, <span class="st">"CIF value (XCD)"</span>, <span class="st">"CIF value share (%)"</span>, <span class="st">"Weight (kg)"</span>, <span class="st">"Weight share (%)"</span>),</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">format.args =</span> <span class="fu">list</span>(<span class="at">big.mark =</span> <span class="st">','</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="tbl-fish-cif-val" class="cell tbl-parent quarto-layout-panel anchored">
<div class="panel-caption table-caption">
<p><strong>?(caption)</strong></p>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 55%">
<col style="width: 10%">
<col style="width: 13%">
<col style="width: 8%">
<col style="width: 11%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Commodity</th>
<th style="text-align: right;">CIF value (XCD)</th>
<th style="text-align: right;">CIF value share (%)</th>
<th style="text-align: right;">Weight (kg)</th>
<th style="text-align: right;">Weight share (%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Alewives, saithe, pollock, haddock and hake</td>
<td style="text-align: right;">250</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">75</td>
<td style="text-align: right;">0.04</td>
</tr>
<tr class="even">
<td style="text-align: left;">Cod, mackerel and alewives</td>
<td style="text-align: right;">241,226</td>
<td style="text-align: right;">8.85</td>
<td style="text-align: right;">21,565</td>
<td style="text-align: right;">10.42</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Coldwater shrimps and prawns (Pandalus spp., Crangon crangon)</td>
<td style="text-align: right;">464</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">0.01</td>
</tr>
<tr class="even">
<td style="text-align: left;">For breeding</td>
<td style="text-align: right;">6,353</td>
<td style="text-align: right;">0.23</td>
<td style="text-align: right;">80</td>
<td style="text-align: right;">0.04</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Frozen</td>
<td style="text-align: right;">17,924</td>
<td style="text-align: right;">0.66</td>
<td style="text-align: right;">2,167</td>
<td style="text-align: right;">1.05</td>
</tr>
<tr class="even">
<td style="text-align: left;">Herrings (Clupea harengus, Clupea pallasii)</td>
<td style="text-align: right;">340,474</td>
<td style="text-align: right;">12.49</td>
<td style="text-align: right;">29,294</td>
<td style="text-align: right;">14.16</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Mackerel</td>
<td style="text-align: right;">49,051</td>
<td style="text-align: right;">1.80</td>
<td style="text-align: right;">2,679</td>
<td style="text-align: right;">1.29</td>
</tr>
<tr class="even">
<td style="text-align: left;">Other</td>
<td style="text-align: right;">1,718,487</td>
<td style="text-align: right;">63.06</td>
<td style="text-align: right;">100,199</td>
<td style="text-align: right;">48.43</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Other shrimps and prawns</td>
<td style="text-align: right;">295,856</td>
<td style="text-align: right;">10.86</td>
<td style="text-align: right;">36,685</td>
<td style="text-align: right;">17.73</td>
</tr>
<tr class="even">
<td style="text-align: left;">Other stromboid conchs (Strombus spp.)</td>
<td style="text-align: right;">3,206</td>
<td style="text-align: right;">0.12</td>
<td style="text-align: right;">4,256</td>
<td style="text-align: right;">2.06</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Pacific salmon</td>
<td style="text-align: right;">45,029</td>
<td style="text-align: right;">1.65</td>
<td style="text-align: right;">2,564</td>
<td style="text-align: right;">1.24</td>
</tr>
<tr class="even">
<td style="text-align: left;">Rock lobster and other sea crawfish (Palinurus spp., Panulirus spp., Jasus spp.)</td>
<td style="text-align: right;">1,940</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">4,281</td>
<td style="text-align: right;">2.07</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Shrimps and prawns</td>
<td style="text-align: right;">4,277</td>
<td style="text-align: right;">0.16</td>
<td style="text-align: right;">1,668</td>
<td style="text-align: right;">0.81</td>
</tr>
<tr class="even">
<td style="text-align: left;">Snapper, croaker, grouper, dolphinfish (mahimahi) and bangamary</td>
<td style="text-align: right;">82</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1,317</td>
<td style="text-align: right;">0.64</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Tilapias (Oreochromis spp.)</td>
<td style="text-align: right;">437</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">28</td>
<td style="text-align: right;">0.01</td>
</tr>
<tr class="even">
<td style="text-align: left;">Total</td>
<td style="text-align: right;">2,725,057</td>
<td style="text-align: right;">100.00</td>
<td style="text-align: right;">206,876</td>
<td style="text-align: right;">100.00</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>